# app.py
import streamlit as st

st.set_page_config(page_title="MBTI 진로 추천", page_icon="🎯", layout="centered")

st.title("MBTI 기반 진로 추천 🎯")
st.write("원하는 MBTI를 선택하면, 그 유형에 잘 맞는 진로 2가지를 추천해줄게. 각 진로에 적합한 학과와 어떤 성격인 사람이 잘 맞는지도 알려줄게. 편하게 골라봐! 😄")

MBTI_LIST = [
    "ISTJ","ISFJ","INFJ","INTJ",
    "ISTP","ISFP","INFP","INTP",
    "ESTP","ESFP","ENFP","ENTP",
    "ESTJ","ESFJ","ENFJ","ENTJ"
]

# 진로 데이터: 각 MBTI마다 2개 진로, 학과, 성격 설명
CAREER_DB = {
    "ISTJ": [
        {"career":"공무원(행정)","majors":["행정학과","경영학과","법학과"],"personality":"책임감이 강하고 규칙을 잘 지키는 사람. 꼼꼼하고 안정적인 환경에서 힘을 발휘해요. 🧾"},
        {"career":"회계사/세무사","majors":["회계학과","세무학과","경영학과"],"personality":"세세한 숫자와 규칙을 좋아하는 사람. 정확성과 성실성이 큰 장점이에요. 📊"}
    ],
    "ISFJ": [
        {"career":"간호사/보건직","majors":["간호학과","보건학과"],"personality":"다른 사람 돌보기를 좋아하고 책임감이 강해요. 안정적이고 따뜻한 돌봄이 잘 맞아요. ❤️"},
        {"career":"사회복지사","majors":["사회복지학과","심리학과"],"personality":"섬세하고 공감 능력이 뛰어나며 꾸준히 도움을 주는 걸 즐기는 사람에게 좋아요. 🤝"}
    ],
    "INFJ": [
        {"career":"상담심리사/임상심리사","majors":["심리학과","상담심리학과"],"personality":"사람의 마음을 깊게 이해하려는 성향. 비밀스럽고 의미 있는 관계를 중시해요. 🌱"},
        {"career":"기획/브랜딩 전문가","majors":["경영학과","커뮤니케이션학과","디자인학과"],"personality":"창의적이면서도 사람의 가치를 중시하는 기획자가 잘 맞아요. 통찰력이 있어요. ✨"}
    ],
    "INTJ": [
        {"career":"연구원/데이터사이언티스트","majors":["통계학과","컴퓨터공학과","수학과"],"personality":"논리적이고 전략적으로 문제를 해결하는 걸 좋아해요. 독립적으로 일할 때 강해요. 🧠"},
        {"career":"기획/전략 컨설턴트","majors":["경영학과","경제학과","수학과"],"personality":"장기적 비전과 체계적 사고로 구조를 설계하는 타입에게 적합해요. ♟️"}
    ],
    "ISTP": [
        {"career":"공학 기술자(기계·전자)","majors":["기계공학과","전기·전자공학과"],"personality":"손으로 직접 만지고 만드는 것을 좋아하고 문제 해결을 빠르게 해내는 실용적 타입. 🔧"},
        {"career":"응급구조대/현장기술자","majors":["응급구조학과","소방학과","산업공학과"],"personality":"위기 상황에서 침착하게 행동하고 즉각적인 판단을 잘하는 사람에게 잘 맞아요. 🚑"}
    ],
    "ISFP": [
        {"career":"디자이너(패션/그래픽)","majors":["디자인학과","시각디자인과","패션디자인과"],"personality":"감각적이고 미적 기준이 높아요. 자유롭게 표현하는 일을 좋아해요. 🎨"},
        {"career":"사진작가/영상 제작자","majors":["미디어학과","영상학과","사진학과"],"personality":"순간을 포착하고 감성을 전하는 걸 즐기는 사람에게 좋아요. 📷"}
    ],
    "INFP": [
        {"career":"창작(작가·콘텐츠 크리에이터)","majors":["문예창작과","국어국문학과","미디어학과"],"personality":"이야기와 의미를 중시하고 자기만의 세계를 표현하는 걸 좋아해요. ✍️"},
        {"career":"인권/NGO 활동가","majors":["사회학과","국제학과","법학과"],"personality":"가치 지향적이고 공감능력이 높은 사람에게 잘 맞아요. 🌍"}
    ],
    "INTP": [
        {"career":"소프트웨어 개발자/연구자","majors":["컴퓨터공학과","소프트웨어학과","수학과"],"personality":"이론적 호기심이 많고 문제 구조를 파헤치는 걸 즐겨요. 논리적 사고 강자. 💻"},
        {"career":"데이터 분석가/AI 연구원","majors":["통계학과","컴퓨터공학과","전산학과"],"personality":"복잡한 패턴을 찾아내는 걸 좋아하는 분석형 성향에 적합해요. 🔍"}
    ],
    "ESTP": [
        {"career":"영업/마케팅 실무자","majors":["경영학과","마케팅학과","커뮤니케이션학과"],"personality":"사교적이고 상황 대처가 빠르며 결과 중심으로 활동하는 타입. 🚀"},
        {"career":"스타트업 창업가(실무형)","majors":["경영학과","창업학과","공학계열(서비스)"],"personality":"모험을 즐기고 빠르게 실행하는 걸 좋아하는 활동가에게 좋습니다. ⚡"}
    ],
    "ESFP": [
        {"career":"연예/무대 예술가(퍼포먼스)","majors":["연극영화과","무대예술과","음악과"],"personality":"사람들과 함께 에너지를 나누는 걸 좋아하고 표현력이 풍부해요. 🎤"},
        {"career":"이벤트/서비스 기획자","majors":["관광학과","서비스경영학과","커뮤니케이션학과"],"personality":"현장감각 있고 사람을 즐겁게 만드는 일을 잘해요. 🎉"}
    ],
    "ENFP": [
        {"career":"콘텐츠 기획자/마케터","majors":["미디어학과","경영학과","커뮤니케이션학과"],"personality":"창의적이고 아이디어가 풍부하며 사람을 이해하는 데 능해요. ✨"},
        {"career":"창업가(아이디어 기반)","majors":["경영학과","창업학과","디자인전공"],"personality":"새로운 가능성을 발견하고 사람들을 이끄는 걸 즐기는 타입. 🌱"}
    ],
    "ENTP": [
        {"career":"컨설턴트/전략가","majors":["경영학과","경제학과","정책학과"],"personality":"아이디어가 많고 토론을 즐기며 문제를 창의적으로 해결하는 걸 좋아해요. 🧩"},
        {"career":"스타트업(제품·비즈니스 개발)","majors":["경영학과","컴퓨터공학과","산업디자인과"],"personality":"빠르게 실험하고 개선하는 것에 흥미를 느끼는 사람에게 적합해요. 🚀"}
    ],
    "ESTJ": [
        {"career":"경영·운영 관리자","majors":["경영학과","산업경영공학과"],"personality":"조직을 정리하고 목표를 달성하는 데 능숙해요. 리더십과 실무 관리 강점. 📋"},
        {"career":"법조인(검사·판사·변호사)","majors":["법학과"],"personality":"논리적이고 규칙을 중시하며 공정성을 실천하려는 사람에게 적합해요. ⚖️"}
    ],
    "ESFJ": [
        {"career":"교사/교육자","majors":["교육학과","아동학과","국어·수학 등 전공"],"personality":"사람 돌보기를 좋아하고 팀워크를 중시하는 타입. 다른 사람에게 친절해요. 🍎"},
        {"career":"HR/인사 담당자","majors":["경영학과","심리학과","인적자원전공"],"personality":"사교적이고 사람들의 필요를 잘 파악해 조직을 돕는 역할에 잘 맞아요. 🤝"}
    ],
    "ENFJ": [
        {"career":"공공정책·외교관","majors":["국제학과","정치외교학과","공공정책학과"],"personality":"사람을 이끄는 카리스마가 있고 사회적 영향력을 발휘하고 싶어하는 타입. 🌐"},
        {"career":"교육·리더십 코치","majors":["교육학과","심리학과","경영학과"],"personality":"타인을 성장시키는 것을 즐기고 설득력 있는 소통 능력이 있어요. 🌟"}
    ],
    "ENTJ": [
        {"career":"경영자/임원","majors":["경영학과","경제학과","공학계열"],"personality":"전략적이고 목표 지향적이며 조직을 이끌 능력이 있어요. 💼"},
        {"career":"전략 컨설턴트/투자분석가","majors":["경영학과","경제학과","통계학과"],"personality":"결단력 있고 복잡한 문제를 체계적으로 푸는 걸 좋아하는 타입. 📈"}
    ]
}

# UI: MBTI 선택
selected = st.selectbox("너의 MBTI를 골라줘", ["선택하세요"] + MBTI_LIST)

if selected == "선택하세요":
    st.info("MBTI를 선택하면 추천 진로와 설명을 보여줄게! 👀")
else:
    st.success(f"{selected} 선택했어! 👍\n아래에서 진로 추천을 확인해봐.")
    careers = CAREER_DB.get(selected, [])

    for idx, item in enumerate(careers, start=1):
        with st.expander(f"{idx}. {item['career']}  " + ("✨" if idx==1 else "🎯")):
            st.markdown(f"**추천 학과**: {', '.join(item['majors'])}")
            st.markdown(f"**어떤 성격이 잘 맞을까?**: {item['personality']}")
            # 간단 팁
            if selected in ["ENFP","ENTP","ENFJ","ENTJ","INTJ","INFJ"]:
                st.caption("팁: 장기 목표를 세우고 작은 실천을 꾸준히 해보면 더 도움이 돼요. 🚀")
            else:
                st.caption("팁: 실제 체험(동아리, 인턴, 자원봉사 등)을 통해 직접 경험해보는 걸 추천해요. 👍")

    st.write("---")
    st.write("더 궁금한 게 있으면 어떤 진로를 더 자세히 알고 싶은지 말해줘. 진로별 준비 방법이나 입시/학과 선택 팁도 알려줄게! 😊")
